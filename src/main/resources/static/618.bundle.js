(self.webpackChunkquestionairesystem=self.webpackChunkquestionairesystem||[]).push([[618],{6439:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(3645),n=s.n(a)()((function(e){return e[1]}));n.push([e.id,"\n*[data-v-beedb490]{\n    font-size: 20px;\n}\n#login[data-v-beedb490]{\n    width: 100%;\n    position: relative;\n}\n.inputBlock[data-v-beedb490]{\n    margin: 20px;\n}\nform[data-v-beedb490]{\n    display: block;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateY(-50%) translateX(-50%);\n}\ninput[data-v-beedb490], .mysubmit[data-v-beedb490]{\n    box-shadow: 1px 1px 1px;\n    border-radius: 2px;\n}\n.mysubmit[data-v-beedb490]{\n    width:80px;\n    margin-left: 100px;\n    margin: 0 auto;\n}\n#register[data-v-beedb490]{\n    text-align: center;\n    font-size: 15px;\n    text-decoration: underline;\n}\n.tips[data-v-beedb490]{\n    font-size: 15px;\n    display: inline-block;\n}\n\n",""]);const r=n},5618:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"login"}},[s("form",[s("div"),e._v(" "),s("div",{staticClass:"inputBlock"},[s("b",[e._v("Username:")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.usrname,expression:"usrname"}],attrs:{type:"text"},domProps:{value:e.usrname},on:{input:function(t){t.target.composing||(e.usrname=t.target.value)}}}),e._v(" "),s("span",{staticClass:"tips"},[e._v(e._s(e.userNameValid))])]),e._v(" "),s("div",{staticClass:"inputBlock"},[s("b",[e._v("Password:")]),e._v(" "),s("input",{attrs:{type:"text"},domProps:{value:e.password},on:{input:e.getPassword}}),e._v(" "),s("span",{staticClass:"tips"},[e._v(e._s(e.passwordValid))])]),e._v(" "),s("div",{staticClass:"mysubmit",on:{click:e.mylogin}},[e._v("LOGIN")]),e._v(" "),s("div",{attrs:{id:"register"},on:{click:e.gotoRegister}},[e._v(" register ")])])])};a._withStripped=!0;var n=s(9669),r=s.n(n);const i={name:"loginPage",data:()=>({usrname:"",realpassword:"",userNameValid:"",passwordValid:""}),computed:{password(){return"*".repeat(this.realpassword.length)}},created(){localStorage.getItem("token")&&this.$router.push("/mainPage")},methods:{mylogin(){""!=this.usrname?""!=this.realpassword?r()({method:"post",url:"http://"+this.$store.getters.showIp+"/auth/login",data:{userName:this.usrname,password:this.realpassword}}).then((e=>{444==e.data.status?(alert("身份验证错误，请重新登录"),this.usrname="",this.realpassword=""):("token"in e.headers&&(localStorage.setItem("token",e.headers.token),localStorage.setItem("userID",e.data.userID),localStorage.setItem("userName",e.data.userName)),this.$router.push("/mainPage"))})).catch((e=>{console.log(e)})):this.userNameValid="请输入密码":this.userNameValid="请输入用户名"},gotoRegister(){this.$router.push("/register")},getPassword(e){"*"!==e.target.value.slice(-1)&&""!==e.target.value.slice(-1)?this.realpassword+=e.target.value.slice(-1):this.realpassword=this.realpassword.slice(0,-1)}}};var o=s(3379),l=s.n(o),d=s(6439);l()(d.Z,{insert:"head",singleton:!1}),d.Z.locals;var u=(0,s(1900).Z)(i,a,[],!1,null,"beedb490",null);u.options.__file="src/components/loginPage.vue";const p=u.exports}}]);